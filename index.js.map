{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://pixabay.com/api',\n  params: {\n    key: '49097244-8862dd375f26540a0b3f58369',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  },\n});\n\nexport function getImages(searchName) {\n  return instance.get('/', { params: { q: searchName } }).then(res => res.data);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function showGallery(images) {\n  const gallery = document.querySelector('.gallery');\n\n  const galleryMarkup = images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n        </a>\n        <ul class=\"image-info\">\n          <li>\n            <h5>Likes</h5>\n            <p>${likes}</p>\n          </li>\n          <li>\n            <h5>Views</h5>\n            <p>${views}</p>\n          </li>\n          <li>\n            <h5>Comments</h5>\n            <p>${comments}</p></p>\n          </li>\n          <li>\n            <h5>Downloads</h5>\n            <p>${downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', galleryMarkup);\n\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImages } from './js/pixabay-api';\nimport { showGallery } from './js/render-functions';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  searchInput: document.querySelector('#search-input'),\n  searchButton: document.querySelector('button[data-start]'),\n  gallery: document.querySelector('.gallery'),\n  jsLoader: document.querySelector('.js-loader'),\n};\n\nrefs.searchForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  refs.gallery.innerHTML = '';\n\n  let searchName = e.target.elements.query.value.trim();\n\n  if (!searchName) {\n    iziToast.warning({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  refs.jsLoader.innerHTML = '<span class=\"loader\"></span>';\n  getImages(searchName)\n    .then(data => {\n      if (data.hits.length == 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n\n          backgroundColor: '#ef4040',\n          position: 'topRight',\n        });\n      } else {\n        showGallery(data.hits);\n      }\n      refs.jsLoader.textContent = '';\n    })\n    .catch(error => {\n      console.log(error);\n    });\n\n  e.target.reset();\n});\n"],"names":["instance","axios","getImages","searchName","res","lightbox","SimpleLightbox","showGallery","images","gallery","galleryMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","refs","e","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAWC,EAAM,OAAO,CAC5B,QAAS,0BACT,OAAQ,CACN,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACH,CAAC,EAEM,SAASC,EAAUC,EAAY,CACpC,OAAOH,EAAS,IAAI,IAAK,CAAE,OAAQ,CAAE,EAAGG,CAAY,CAAA,CAAE,EAAE,KAAKC,GAAOA,EAAI,IAAI,CAC9E,CCXA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAYC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAgBF,EACnB,IACC,CAAC,CACC,cAAAG,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,wCACgCN,CAAa;AAAA;AAAA;AAAA,mBAGlCC,CAAY;AAAA,mBACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMNC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iBAIRC,CAAS;AAAA;AAAA;AAAA,YAIrB,EACA,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,aAAcC,CAAa,EAEtDL,EAAS,QAAO,CAClB,CClDA,MAAMa,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,eAAe,EACnD,aAAc,SAAS,cAAc,oBAAoB,EACzD,QAAS,SAAS,cAAc,UAAU,EAC1C,SAAU,SAAS,cAAc,YAAY,CAC/C,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,GAAK,CAC9CA,EAAE,eAAc,EAEhBD,EAAK,QAAQ,UAAY,GAEzB,IAAIf,EAAagB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE/C,GAAI,CAAChB,EAAY,CACfiB,EAAS,QAAQ,CACf,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDF,EAAK,SAAS,UAAY,+BAC1BhB,EAAUC,CAAU,EACjB,KAAKkB,GAAQ,CACRA,EAAK,KAAK,QAAU,EACtBD,EAAS,MAAM,CACb,QACE,2EAEF,gBAAiB,UACjB,SAAU,UACpB,CAAS,EAEDb,EAAYc,EAAK,IAAI,EAEvBH,EAAK,SAAS,YAAc,EAClC,CAAK,EACA,MAAMI,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEHH,EAAE,OAAO,OACX,CAAC"}